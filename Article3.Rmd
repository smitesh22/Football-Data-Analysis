---
title: "La Liga Mid-Season Review"
output: 
  html_document:
    theme: yeti
    toc: TRUE
    toc_float: TRUE
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r }
library(worldfootballR)
require(tidyverse)


mo_shooting <- fb_player_season_stats("https://fbref.com/en/players/7111d552/Vinicius-Junior", stat_type = 'gca')

teams <- fb_teams_urls("https://fbref.com/en/comps/12/La-Liga-Stats")

players <- vector()


for (team in teams){
  temp = fb_player_urls(team)
  players = append(players, temp)
  
}

chances_per_90 <- vector()

for (player in players){

  player_data <- fb_player_season_stats(player, stat_type = 'gca')
  
  temp <- player_data %>%
    filter(Season == "2021-2022", Comp == "1. La Liga") %>%
    select(player_name, GCA90_GCA)
  
  append(chances_per_90, temp)
}


```
```{r}
chances_per_90 <- vector()

for (player in players){

  player_data <- fb_player_season_stats(player, stat_type = 'gca')
  
  temp <- player_data %>%
    filter(Season == "2021-2022", Comp == "1. La Liga") %>%
    select(player_name, GCA90_GCA)
  
  append(chances_per_90, temp)
}


```